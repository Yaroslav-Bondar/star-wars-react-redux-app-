{"ast":null,"code":"var _jsxFileName = \"/home/yaroslav/develop/web/apps/React/react-app/src/containers/PeoplePage/PeoplePage.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport styles from './PeoplePage.module.css';\nimport { getApiResource } from '../../utils/network';\nimport { API_PEOPLE, SWAPI_PEOPLE } from '../../constants/api';\nimport PeopleList from '../../components/PeoplePage/PeopleList';\nimport { getPeopleId, getPeopleImage } from '../../services/getPeopleData';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PeoplePage = () => {\n  _s();\n\n  const [people, setPeople] = useState(\"null\");\n  const [errorApi, setErrorApi] = useState(false);\n\n  const getResource = async url => {\n    // console.log(await getApiResource(url));\n    const data = await getApiResource(url);\n\n    if (data) {\n      const peopleList = data.results.map(_ref => {\n        let {\n          name,\n          url\n        } = _ref;\n        // console.log(name, url);\n        // const id = getPeopleId(url);\n        const id = getPeopleId(url, SWAPI_PEOPLE);\n        const img = getPeopleImage(id); // console.log(img);\n        // console.log('id ', id);\n\n        return {\n          id,\n          name,\n          img\n        };\n      }); // console.log({people});\n\n      setPeople(peopleList);\n      setErrorApi(false); // console.log({people});\n    } else {\n      setErrorApi(true);\n    }\n  };\n\n  useEffect(() => {\n    getResource(API_PEOPLE);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\"PeoplePage\", errorApi ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Error\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 26\n    }, this) : people ? /*#__PURE__*/_jsxDEV(PeopleList, {\n      people: people\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 53\n    }, this) : '']\n  }, void 0, true); // <li key={(idex+1).toString()}>{url}</li>\n  // {people && people.map(({name, url}, idex)=> \n  //      <div>\n  //      <li key={idex.toString()}>{name +' '+idex}</li>\n  //      <li key={(idex+1).toString()}>{url}</li>\n  //      </div>\n  // )};\n};\n\n_s(PeoplePage, \"3m4maYsE9kLNlHZfXOSmk6MLTz4=\");\n\n_c = PeoplePage;\nexport default PeoplePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"PeoplePage\");","map":{"version":3,"sources":["/home/yaroslav/develop/web/apps/React/react-app/src/containers/PeoplePage/PeoplePage.jsx"],"names":["useState","useEffect","styles","getApiResource","API_PEOPLE","SWAPI_PEOPLE","PeopleList","getPeopleId","getPeopleImage","PeoplePage","people","setPeople","errorApi","setErrorApi","getResource","url","data","peopleList","results","map","name","id","img"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,SAASC,cAAT,QAA+B,qBAA/B;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,qBAAzC;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,SAASC,WAAT,EAAsBC,cAAtB,QAA4C,8BAA5C;;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AACrB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,MAAD,CAApC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,KAAD,CAAxC;;AACA,QAAMc,WAAW,GAAG,MAAOC,GAAP,IAAe;AAC/B;AACA,UAAMC,IAAI,GAAG,MAAMb,cAAc,CAACY,GAAD,CAAjC;;AACA,QAAGC,IAAH,EAAS;AACL,YAAMC,UAAU,GAAGD,IAAI,CAACE,OAAL,CAAaC,GAAb,CAAiB,QAAiB;AAAA,YAAhB;AAACC,UAAAA,IAAD;AAAOL,UAAAA;AAAP,SAAgB;AACjD;AACA;AACA,cAAMM,EAAE,GAAGd,WAAW,CAACQ,GAAD,EAAMV,YAAN,CAAtB;AACA,cAAMiB,GAAG,GAAGd,cAAc,CAACa,EAAD,CAA1B,CAJiD,CAKjD;AACA;;AACA,eAAO;AACHA,UAAAA,EADG;AAEHD,UAAAA,IAFG;AAGHE,UAAAA;AAHG,SAAP;AAKH,OAZkB,CAAnB,CADK,CAcL;;AACAX,MAAAA,SAAS,CAACM,UAAD,CAAT;AACAJ,MAAAA,WAAW,CAAC,KAAD,CAAX,CAhBK,CAiBL;AACH,KAlBD,MAkBO;AACHA,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH;AAEJ,GAzBD;;AA0BAZ,EAAAA,SAAS,CAAC,MAAK;AACXa,IAAAA,WAAW,CAACV,UAAD,CAAX;AACH,GAFQ,EAEP,EAFO,CAAT;AAGA,sBACI;AAAA,6BACMQ,QAAQ,gBAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAH,GAAoBF,MAAM,gBAAI,QAAC,UAAD;AAAY,MAAA,MAAM,EAAIA;AAAtB;AAAA;AAAA;AAAA;AAAA,YAAJ,GAAsC,EAD9E;AAAA,kBADJ,CAhCqB,CAqCrB;AAEA;AACA;AACA;AACA;AACA;AACA;AACH,CA7CD;;GAAMD,U;;KAAAA,U;AA+CN,eAAeA,UAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport styles from './PeoplePage.module.css';\nimport { getApiResource } from '../../utils/network';\nimport { API_PEOPLE, SWAPI_PEOPLE } from '../../constants/api';\nimport PeopleList from '../../components/PeoplePage/PeopleList';\nimport { getPeopleId, getPeopleImage } from '../../services/getPeopleData';\n\nconst PeoplePage = () => {\n    const [people, setPeople] = useState(\"null\");\n    const [errorApi, setErrorApi] = useState(false);\n    const getResource = async (url) => {\n        // console.log(await getApiResource(url));\n        const data = await getApiResource(url);\n        if(data) {\n            const peopleList = data.results.map(({name, url}) => {\n                // console.log(name, url);\n                // const id = getPeopleId(url);\n                const id = getPeopleId(url, SWAPI_PEOPLE);\n                const img = getPeopleImage(id);\n                // console.log(img);\n                // console.log('id ', id);\n                return {\n                    id,\n                    name,\n                    img,\n                }\n            });\n            // console.log({people});\n            setPeople(peopleList);\n            setErrorApi(false);\n            // console.log({people});\n        } else {\n            setErrorApi(true);\n        }\n\n    };\n    useEffect(()=> {\n        getResource(API_PEOPLE);\n    },[]);\n    return (\n        <>PeoplePage\n            { errorApi ? <h1>Error</h1> : people ?  <PeopleList people = {people}/> : '' }\n        </>\n    );\n    // <li key={(idex+1).toString()}>{url}</li>\n    \n    // {people && people.map(({name, url}, idex)=> \n    //      <div>\n    //      <li key={idex.toString()}>{name +' '+idex}</li>\n    //      <li key={(idex+1).toString()}>{url}</li>\n    //      </div>\n    // )};\n}\n\nexport default PeoplePage;\n\n      "]},"metadata":{},"sourceType":"module"}